{% extends "base.html" %}
{% block title %}{{ action }}{% endblock %}
{% block pageheader %}{{ action }}{% endblock %}
{% block pagecontent %}

<div class="row">
    {% if bookmark.http_status != 200 %}
    <div class="col s12">
        <div class="card-panel red darken-1">
            <span class="white-text">
                {% if bookmark.http_status == 404 %}
                <i class="material-icons">report_problem</i>&nbsp;&nbsp;URL not found (404), broken/outdated link?
                {% else %}
                <i class="material-icons">report_problem</i>&nbsp;&nbsp;HTTP status {{ bookmark.http_status }}
                {% endif %}
            </span>
        </div>
    </div>
    {% endif %}

    {% if message %}
    <div class="col s12">
        <div class="card-panel orange lighten-2">
            <span class="white-text">
                {{ message }}
            </span>
        </div>
    </div>
    {% endif %}

    <form action="{{ url_for('addingbookmark', userkey=userkey) }}" method="POST">

        <div class="input-field col s12">
            <i class="material-icons prefix">description</i>
            <input placeholder="title" type="text" name="title" id="title" value="{{ bookmark.title }}" class="validate" />
            <label for="title">Title</label>
        </div>

        <div class="input-field col s12">
            <i class="material-icons prefix">turned_in</i>
            <input placeholder="url" type="text" name="url" id="url" value="{{ bookmark.url }}" class="validate" />
            <label for="url">URL</label>
        </div>

        <div class="input-field col s12">
            <i class="material-icons prefix">label</i>
            <input placeholder="tags, divided by comma's" type="text" name="tags" id="tags" value="{{ bookmark.tags }}" class="validate" />
            <label for="tags">Tags</label>
        </div>

        <div class="input-field col s12">
            {#<i class="material-icons prefix">star</i>#}
            <input type="checkbox" name="starred" id="starred" {% if bookmark.starred == True %}checked{% endif %} />
            <label for="starred">Starred</label>
        </div>

        <div class="input-field col s12">
            <input type="checkbox" name="strip" id="strip" />
            <label for="strip">Strip parameters from url</label>
        </div>

        <div class="input-field col l2 m3 s4">
            <p class="left-align"><button class="btn btn-large waves-effect waves-light" type="submit" name="submit">Save</button></p>
        </div>
    </form>
    {% if bookmark.url_hash %}
        <div class="input-field col l2 m3 s4">
        <form action="{{ url_for('deletingbookmark', userkey=userkey, urlhash=bookmark.url_hash) }}" method="POST">
            <p class="left-align"><button class="btn btn-large waves-effect waves-light" type="button" name="delete">Delete</button></p>
        </form>
        </div>
    {% endif %}
</div>
{% endblock %}
